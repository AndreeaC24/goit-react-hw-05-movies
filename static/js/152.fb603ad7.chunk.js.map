{"version":3,"file":"static/js/152.fb603ad7.chunk.js","mappings":"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","sources":["components/Request.jsx","components/common/Error.jsx","webpack://react-homework-template/./src/components/pages/MovieItems/MovieItem.module.css?55d8","components/pages/MovieItems/MovieItem.jsx"],"sourcesContent":["\nconst url = 'https://api.themoviedb.org/3/';\nconst key = '44cd7d40e9c9ffc80f6b2e51bac6d9ee'; \n\nexport const fetchTrending = () => {\n  return fetch(`${url}trending/movie/day?api_key=${key}`).then(res => res.json());\n}\n\nexport const fetchMovie = (id) => {\n  return fetch(`${url}movie/${id}?api_key=${key}`).then(res => res.json());\n} \n\nexport const fetchCast = (id) => {\n  return fetch(`${url}movie/${id}/credits?api_key=${key}`).then(res => res.json());\n}\n\nexport const fetchReview = (id) => {\n  return fetch(`${url}movie/${id}/reviews?api_key=${key}`).then(res => res.json());\n}\n\nexport const fetchSearch = (query) => {\n  return fetch(`${url}search/movie?page=1&api_key=${key}&query=${query}`).then(res => res.json())\n}\n\n//https://api.themoviedb.org/3/search/movie?page=1&api_key=44cd7d40e9c9ffc80f6b2e51bac6d9ee&query=barbie","export const Error = () => {\n    return <h2>Error loading movies</h2>\n}","// extracted by mini-css-extract-plugin\nexport default {\"custom-img-size\":\"MovieItem_custom-img-size__Zz8N9\"};","import { useParams, NavLink, Outlet, useLocation, Link} from 'react-router-dom';\nimport { useEffect, useState, Suspense } from 'react';\nimport { Loader } from '../../common/Loader';\nimport { Error } from '../../common/Error';\nimport { fetchMovie } from '../../Request';\nimport css from './MovieItem.module.css';\n\nconst MovieItem = () => {\n  const { movieId } = useParams();\n  const [movieData, setMovieData] = useState(null);\n  const [isLoading, setIsloading] = useState(true);\n  const [hasError, setHasError] = useState(false);\n  const [notFound, setNotFound] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    fetchMovie(movieId)\n      .then(response => {\n        if (response.success === false) {\n          setMovieData(null);\n          setNotFound(true);\n        } else {\n          setMovieData(response);\n        }\n      })\n      .catch(err => {\n        console.log(err);\n        setHasError(true);\n      })\n      .finally(() => {\n        setIsloading(false);\n      });\n  }, [movieId]);\n  return (\n    <div className=\"container\">\n      <Link to={location.state?.from || '/movies'} className=\"btn btn-light mb-3 mt-1\">\n        {'\\u2190'} Go Back\n      </Link>\n      {isLoading && <Loader />}\n      {hasError && <Error />}\n      {notFound && <h1>Requested movie does not exist</h1>}\n      {movieData && (\n        <div className=\"card mb-3\">\n          <div className=\"row g-0\">\n            <div className=\"col-md-4 d-flex justify-content-center align-items-center d-md-block\">\n              <img\n                src={`https://image.tmdb.org/t/p/w500/${movieData.poster_path}`}\n                alt=\"Movie Poster\"\n                className={`img-fluid rounded-start ${css['custom-img-size']} `}\n              />\n            </div>\n            <div className=\"col-md-8\">\n              <div className=\"card-body\">\n                <h4 className=\"card-title fs-2 fw-bold pb-3\">\n                  {movieData.title ?? 'Unknown'}\n                  <span>({movieData.release_date.split('-')[0]})</span>\n                </h4>\n                <p className=\"card-text pb-2\"> User score:\n                  <span className=\"card-text fw-light\"> {(movieData.vote_average * 10).toFixed(0)}% </span>\n                </p>\n                <p className=\"card-text fs-6 fw-bold\">Overview:</p>\n                <span className=\"card-text fw-light pt-1\"> {movieData.overview}</span>\n                <p className=\"card-text fs-6 fw-bold mt-4\">Genres:</p>\n                {movieData.genres && movieData.genres.length > 0 && (\n                  <span className=\"card-text fw-light\"> {movieData.genres.map(genre => genre.name).join(', ')}</span>\n                )}\n              </div>\n            </div>\n            <div className=\"col-md-12\">\n              <div className=\"card-body\">\n                <h4 className=\"card-title fs-4 fw-bold p-3\"> Additional information: </h4>\n                <ul className=\"nav col-12 col-lg-auto me-lg-auto gap-5 pb-3 mb-3\">\n                  <li>\n                    <NavLink\n                      className=\"nav-link px-3 mx-2 text-dark border btn btn-hover btn-info\"\n                      to=\"cast\"\n                    > Cast \n                    </NavLink>\n                  </li>\n                  <li>\n                    <NavLink\n                      className=\"nav-link px-3 text-dark border btn btn-hover btn-info\"\n                      to=\"reviews\"\n                    > Reviews \n                    </NavLink>\n                  </li>\n                </ul>\n                <Suspense fallback={<Loader />}>\n                  <Outlet />\n                </Suspense>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MovieItem;\n"],"names":["url","key","fetchTrending","fetch","then","res","json","fetchMovie","id","fetchCast","fetchReview","fetchSearch","query","Error","movieId","useParams","useState","movieData","setMovieData","isLoading","setIsloading","hasError","setHasError","notFound","setNotFound","location","useLocation","useEffect","response","success","catch","err","console","log","finally","className","to","state","from","Loader","src","poster_path","alt","css","title","release_date","split","vote_average","toFixed","overview","genres","length","map","genre","name","join","Suspense","fallback"],"sourceRoot":""}