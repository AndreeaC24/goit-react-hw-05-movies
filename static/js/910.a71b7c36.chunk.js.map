{"version":3,"file":"static/js/910.a71b7c36.chunk.js","mappings":"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","sources":["components/Request.jsx","components/pages/MovieList.jsx","components/common/Search.jsx","components/pages/Movies.jsx"],"sourcesContent":["\nconst url = 'https://api.themoviedb.org/3/';\nconst key = '44cd7d40e9c9ffc80f6b2e51bac6d9ee'; \n\nexport const fetchTrending = () => {\n  return fetch(`${url}trending/movie/day?api_key=${key}`).then(res => res.json());\n}\n\nexport const fetchMovie = (id) => {\n  return fetch(`${url}movie/${id}?api_key=${key}`).then(res => res.json());\n} \n\nexport const fetchCast = (id) => {\n  return fetch(`${url}movie/${id}/credits?api_key=${key}`).then(res => res.json());\n}\n\nexport const fetchReview = (id) => {\n  return fetch(`${url}movie/${id}/reviews?api_key=${key}`).then(res => res.json());\n}\n\nexport const fetchSearch = (query) => {\n  return fetch(`${url}search/movie?page=1&api_key=${key}&query=${query}`).then(res => res.json())\n}\n\n//https://api.themoviedb.org/3/search/movie?page=1&api_key=44cd7d40e9c9ffc80f6b2e51bac6d9ee&query=barbie","import { Link, useLocation } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nexport const MovieList = ({ movies, showTitle=true }) => {\n  const location = useLocation();\n  return (\n    <div className=\"container\">\n      {showTitle && <h1 className=\"p-2 mt-3 mb-3\">Trending Today</h1>} \n      {movies.length > 0 &&\n        movies.map(movie => {\n          return ( \n            <Link key={movie.id} to={`/movies/${movie.id}`} state={{ from: location }} className='text-decoration-none'>\n              <ul className=\"list-group\">\n                <li className=\"list-group-item\">{movie.title}</li>\n              </ul>\n            </Link>\n          );\n        })}\n    </div>\n  );\n};\nMovieList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  showTitle: PropTypes.bool,\n};\n\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchSearch } from '../Request';\nimport { MovieList } from '../pages/MovieList';\nimport Notiflix from 'notiflix';\n\nexport const Search = () => {\n  const [searchParams] = useSearchParams();\n  const [searchTerm, setSearchTerm] = useState(\n    searchParams.get('query') ? searchParams.get('query') : ''\n  );\n  const [movies, setMovies] = useState([]);\n\n  useEffect(() => {\n    setSearchTerm(searchParams.get('query'));\n  }, [searchParams]);\n\n  useEffect(() => {\n    console.log(searchTerm);\n    if (searchTerm && searchTerm.length > 2) {\n      fetchSearch(searchTerm).then(res => {\n          if (res.results.length > 0) {\n            setMovies(res.results);\n          } else {\n            Notiflix.Notify.failure(`No movies found for '${searchTerm}'`);\n          }\n        })\n        .catch(error => {\n          console.error(error); \n          Notiflix.Notify.failure('Error fetching movies');\n        });\n    }\n  }, [searchTerm]);\n\n  return (\n    <>\n      {searchTerm && (\n        <h6 className='mb-4 mt-3 px-3'>The search term is: <span className='text-info px-2'>{searchTerm}</span></h6>\n      )}\n      {movies.length > 0 && <MovieList movies={movies} showTitle={false} />}\n    </>\n  );\n};\n","import { useRef } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { Search } from '../common/Search';\nimport Notiflix from 'notiflix';\n\nconst Movies = () => {\n  const inputRef = useRef(); //accesam valoarea inputului  \n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const value = inputRef.current.value;\n    if (value.length >= 3) {\n      setSearchParams({ query: value });\n    } else {\n      Notiflix.Notify.failure('The search term is too short');\n    }\n  };\n  return (\n    <div className=\"container\">\n      <form\n        onSubmit={handleSubmit}\n        className=\"col-12 col-lg-auto mb-3 mb-lg-0 me-lg-4\"\n        role=\"search\"\n      >\n        <div className=\"container d-flex justify-content-center\">\n          <div className=\"input-group w-100 w-md-50 w-lg-25\">\n            <input\n              ref={inputRef}\n              type=\"search\"\n              className=\"form-control rounded mt-3\"\n              placeholder=\"ex. Harry Potter\"\n              aria-label=\"Search\"\n              aria-describedby=\"search-addon\"\n            />\n            <button type=\"submit\" className=\"btn btn-outline-info mt-3\">\n              search\n            </button>\n          </div>\n        </div>\n      </form>\n      {searchParams.get('query') && <Search />}\n    </div>\n  );\n};\n\nexport default Movies;"],"names":["url","key","fetchTrending","fetch","then","res","json","fetchMovie","id","fetchCast","fetchReview","fetchSearch","query","MovieList","movies","showTitle","location","useLocation","className","length","map","movie","to","state","from","title","Search","useSearchParams","searchParams","useState","get","searchTerm","setSearchTerm","setMovies","useEffect","console","log","results","Notiflix","catch","error","inputRef","useRef","setSearchParams","onSubmit","e","preventDefault","value","current","role","ref","type","placeholder"],"sourceRoot":""}